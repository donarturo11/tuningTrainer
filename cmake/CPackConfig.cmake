message("CMAKE_BINARY_DIR=${CMAKE_BINARY_DIR}")
message("CMAKE_SOURCE_DIR=${CMAKE_SOURCE_DIR}")
message("CMAKE_INSTALL_PREFIX=${CMAKE_INSTALL_PREFIX}")
message("CMAKE_RUNTIME_OUTPUT_DIRECTORY=${CMAKE_RUNTIME_OUTPUT_DIRECTORY}")
set(CPACK_PACKAGE_NAME ${PROJECT_NAME})
set(CPACK_PACKAGE_VENDOR donarturo11)
set(CPACK_INSTALLED_DIRECTORIES "${CMAKE_INSTALL_PREFIX};/")
if (APPLE)
    set(CPACK_GENERATOR Bundle)
    set(CPACK_PACKAGE_ICON desktop/AppIcon.icns)
    set(CPACK_BUNDLE_NAME ${PROJECT_NAME})
    set(CPACK_BUNDLE_PLIST Contents/Info.plist)
    set(CPACK_BUNDLE_ICON_FILE Contents/Resources/AppIcon.icns)
    set(CPACK_BUNDLE_ICON Contents/Resources/AppIcon.icns)
    set(CPACK_BUNDLE_APPLE_CERT_APP "donarturo11.github.io")
    set(CPACK_BUNDLE_APPLE_ENTITLEMENTS "desktop/entitlements.plist")
    #set(CPACK_BUNDLE_APPLE_CODESIGN_PARAMETER "-d -v -f")
elseif(WIN32)
    #set(CPACK_GENERATOR 7Z NSIS)
    set(CPACK_ARCHIVE_FILE_NAME "${PROJECT_NAME}-Portable")
    set(CPACK_NSIS_DISPLAY_NAME "Setup ${PROJECT_NAME}")
    set(CPACK_NSIS_PACKAGE_NAME ${CPACK_NSIS_DISPLAY_NAME})
    set(CPACK_NSIS_PACKAGE_VERSION 0.1.0)
    set(CPACK_NSIS_MUI_ICON desktop/AppIcon.ico)
    set(CPACK_NSIS_MUI_HEADERIMAGE ${CPACK_NSIS_MUI_ICON})
    if(MINGW)
       set(CPACK_NSIS_EXECUTABLE $ENV{MSYSTEM_PREFIX}/bin/makensis.exe)
    endif()
elseif(UNIX AND NOT APPLE)
    set(CPACK_GENERATOR TGZ)
endif()
include(CPack)
